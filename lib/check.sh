#!/usr/bin/env bash

# ==============================================================================
# VpsScriptKit - 通用检测工具
#
# @文件路径: lib/check.sh
# @功能描述: 负责 “查” (环境检测、软件检测、依赖安装)
#
# 设计原则：
# - 只提供“判断”，不做任何操作
#
# @作者: Jamison
# @版本: 0.1.0
# @创建日期: 2026-01-06
# ==============================================================================

# ------------------------------------------------------------------------------
# 函数名: is_root
# 功能:   判断当前用户是否为 root
# 
# 参数: 无
# 
# 返回值: 
#    0 - root
#   !0 - 非 root
# 
# 示例:
#   is_root
# ------------------------------------------------------------------------------
is_root() {
  [ "$(id -u)" -eq 0 ]
}

# ------------------------------------------------------------------------------
# 函数名: has_cmd
# 功能:   判断指定的命令是否存在于系统 PATH 中
# 
# 参数:
#   $1 (string): 命令名称 (如 wget, curl, git) (必填)
# 
# 返回值:
#   0 - [成功时的含义]
#   1 - [失败时的含义]
# 
# 示例:
#   if has_cmd "curl"; then
#       curl -I https://google.com
#   fi
# ------------------------------------------------------------------------------
has_cmd() {
  command -v "$1" >/dev/null 2>&1
}